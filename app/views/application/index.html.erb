<div class='index-back'>
  <h1>皆の空きコマがひと目でわかる</h1>
  <p>「時間割マネージャー」は部活、サークルでの予定をバッチリ合わせるスケジュール調整サービスです</p>
  <button class='button' id='new-TT'>時間割を新規作成する</button>
</div>
<div id='new-url' data-json=<%=p_index_path%>></div>
<div class="slide-parent">
  <div class="slide1">
    <%=image_tag 'tt-screenshot5'%>
    <%=image_tag 'tt-screenshot1'%>
    <%=image_tag 'tt-screenshot2'%>
    <%=image_tag 'tt-screenshot3'%>
    <%=image_tag 'tt-screenshot4'%>
  </div>
  <div class="slide2">
    <%=image_tag 'tt-screenshot1'%>
    <%=image_tag 'tt-screenshot2'%>
    <%=image_tag 'tt-screenshot3'%>
    <%=image_tag 'tt-screenshot4'%>
    <%=image_tag 'tt-screenshot5'%>
  </div>
  <div class="slide3">
    <%=image_tag 'tt-screenshot2'%>
    <%=image_tag 'tt-screenshot3'%>
    <%=image_tag 'tt-screenshot4'%>
    <%=image_tag 'tt-screenshot5'%>
    <%=image_tag 'tt-screenshot1'%>
  </div>
</div>
<style>
    .slide1, .slide2, .slide3 {
		font-size:0px;
		height:400px;
		position:relative;
		display:inline-block;
		width: calc(100% / 3);
    }
    img {
    	position:absolute;
    	opacity:0;
    	transition:all 1s ease-in-out;
    	height:100%;
  	object-fit:contain;
  	margin: auto;
  }
  .slide1 img{
    left: 0;
    right: 400;
    margin: auto;
  }
  .slide2 img{
    left: 0;
    right: 0;
    margin: auto;
  }
  .slide3 img{
    left: 400;
    right: 0;
    margin: auto;
  }
</style>
<script>
  window.addEventListener('load', function () {
  	viewSlide('.slide1 img');
  	viewSlide('.slide2 img');
  	viewSlide('.slide3 img');
  });
  function viewSlide(className, slideNo = -1)
  {
  	let imgArray = document.querySelectorAll(className);
  	if (slideNo >= 0) {
  		//初回以外は現在のスライドを消す
  		imgArray[slideNo].style.opacity = 0;
  	}
  	slideNo++;
  	if (slideNo >= imgArray.length) {
  		slideNo = 0; //次のスライドがなければ最初のスライドへ戻る
  	}
  	imgArray[slideNo].style.opacity = 1;
  	setTimeout(function(){viewSlide(className, slideNo);}, 2000);
  }
</script>
<%=javascript_pack_tag 'index/index'%>
